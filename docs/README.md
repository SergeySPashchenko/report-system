# Documentation Index

## üìö Available Documentation

### [User API Documentation](./User.md)
–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
- –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —à–∞—Ä–∏
- –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- Best practices

### [Company API Documentation](./Company.md)
–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—è–º–∏:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É
- –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø—É —á–µ—Ä–µ–∑ Access –º–æ–¥–µ–ª—å
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó "Main"
- –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

---

## üéØ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### –°–∏—Å—Ç–µ–º–∞ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (User)
‚úÖ –ü–æ–≤–Ω–∏–π CRUD –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—ñ–π —Ç–∞ —Å–ª—É—Ö–∞—á—ñ–≤
‚úÖ Observer –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –¥—ñ–π
‚úÖ –ü–æ–ª—ñ—Ç–∏–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
‚úÖ –ü–æ—à—É–∫ —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
‚úÖ Soft deletes –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è

### –°–∏—Å—Ç–µ–º–∞ –ö–æ–º–ø–∞–Ω—ñ–π (Company)
‚úÖ –ü–æ–≤–Ω–∏–π CRUD –¥–ª—è –∫–æ–º–ø–∞–Ω—ñ–π
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó "Main" –¥–ª—è –ø–µ—Ä—à–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚úÖ –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–æ–º–ø–∞–Ω—ñ—ó "Main" –≤—Å—ñ–º –Ω–∞—Å—Ç—É–ø–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º
‚úÖ –ü–æ–ª—ñ–º–æ—Ä—Ñ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç—É–ø—É —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å Access
‚úÖ –ü–æ–ª—ñ—Ç–∏–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –∫–µ—Ä—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Å–≤–æ—ó–º–∏ –∫–æ–º–ø–∞–Ω—ñ—è–º–∏)
‚úÖ –ü–æ—à—É–∫ —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è
‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–ø–∞–Ω—ñ–π
‚úÖ Soft deletes –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
‚úÖ –ó–∞—Ö–∏—Å—Ç –∫–æ–º–ø–∞–Ω—ñ—ó "Main" –≤—ñ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è

### –°–∏—Å—Ç–µ–º–∞ –î–æ—Å—Ç—É–ø—É (Access)
‚úÖ –ü–æ–ª—ñ–º–æ—Ä—Ñ–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –∑–≤'—è–∑–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ —Ä–µ—Å—É—Ä—Å–∞–º–∏
‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ soft deletes
‚úÖ –ó–≤'—è–∑–∫–∏ –º—ñ–∂ User —Ç–∞ Company —á–µ—Ä–µ–∑ Access

---

## üîó –ó–≤'—è–∑–∫–∏ –ú—ñ–∂ –ú–æ–¥–µ–ª—è–º–∏

### User ‚Üî Company
- **Many-to-Many** —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å `Access`
- –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–≥–∞—Ç—å–æ—Ö –∫–æ–º–ø–∞–Ω—ñ–π
- –ö–æ–∂–Ω–∞ –∫–æ–º–ø–∞–Ω—ñ—è –º–æ–∂–µ –º–∞—Ç–∏ –±–∞–≥–∞—Ç—å–æ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ü–µ—Ä—à–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î –∫–æ–º–ø–∞–Ω—ñ—é "Main"
- –í—Å—ñ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å –¥–æ—Å—Ç—É–ø –¥–æ —Ç—ñ—î—ó –∂ –∫–æ–º–ø–∞–Ω—ñ—ó "Main"

### Access Model
- –ü–æ–ª—ñ–º–æ—Ä—Ñ–Ω–∞ –º–æ–¥–µ–ª—å –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è
- –ó–≤'—è–∑—É—î `user_id` –∑ `accessible_id` —Ç–∞ `accessible_type`
- –ü—ñ–¥—Ç—Ä–∏–º—É—î soft deletes

---

## üöÄ API Endpoints

### Authentication
- `POST /api/v1/auth/register` - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /api/v1/auth/login` - –í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `GET /api/v1/auth/me` - –ü–æ—Ç–æ—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /api/v1/auth/logout` - –í–∏—Ö—ñ–¥ –∑ —Å–∏—Å—Ç–µ–º–∏
- `POST /api/v1/auth/logout-all` - –í–∏—Ö—ñ–¥ –∑ —É—Å—ñ—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
- `POST /api/v1/auth/refresh` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É

### Users
- `GET /api/v1/users` - –°–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `POST /api/v1/users` - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `GET /api/v1/users/{username}` - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `PUT/PATCH /api/v1/users/{username}` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `DELETE /api/v1/users/{username}` - –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /api/v1/users/{id}/restore` - –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `DELETE /api/v1/users/{id}/force` - –û—Å—Ç–∞—Ç–æ—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
- `GET /api/v1/users/statistics` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### Companies
- `GET /api/v1/companies` - –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω—ñ–π
- `POST /api/v1/companies` - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó
- `GET /api/v1/companies/{slug}` - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó
- `PUT/PATCH /api/v1/companies/{slug}` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó
- `DELETE /api/v1/companies/{slug}` - –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó
- `POST /api/v1/companies/{id}/restore` - –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó
- `DELETE /api/v1/companies/{id}/force` - –û—Å—Ç–∞—Ç–æ—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
- `GET /api/v1/companies/statistics` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–º–ø–∞–Ω—ñ–π

---

## üìã –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ü—Ä–æ—Ü–µ—Å–∏

### –ü—Ä–∏ –°—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
1. `UserObserver::creating()` - –õ–æ–≥—É–≤–∞–Ω–Ω—è
2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö
3. `UserObserver::created()` - –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ–¥—ñ—è `UserCreated`
4. `AssignCompanyToUser` listener:
   - –ü–µ—Ä–µ–≤—ñ—Ä—è—î —á–∏ —ñ—Å–Ω—É—î –∫–æ–º–ø–∞–Ω—ñ—è "Main"
   - –°—Ç–≤–æ—Ä—é—î "Main" —è–∫—â–æ —Ü–µ –ø–µ—Ä—à–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
   - –°—Ç–≤–æ—Ä—é—î –∑–∞–ø–∏—Å `Access` –¥–ª—è –∑–≤'—è–∑–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –∫–æ–º–ø–∞–Ω—ñ—î—é

### –ü—Ä–∏ –í–∏–¥–∞–ª–µ–Ω–Ω—ñ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
1. `UserObserver::deleting()` - –õ–æ–≥—É–≤–∞–Ω–Ω—è
2. –í–∏–¥–∞–ª—è—é—Ç—å—Å—è –≤—Å—ñ —Ç–æ–∫–µ–Ω–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
3. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á soft delete
4. `UserObserver::deleted()` - –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–æ–¥—ñ—è `UserDeleted`

---

## üõ°Ô∏è –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è

### User Policy
- –í—Å—ñ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Å–≤—ñ–π –ø—Ä–æ—Ñ—ñ–ª—å
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ –º–æ–∂–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Å–∞–º —Å–µ–±–µ

### Company Policy
- –í—Å—ñ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–ø–∞–Ω—ñ–π
- –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∫–µ—Ä—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –∫–æ–º–ø–∞–Ω—ñ—è–º–∏ –¥–æ —è–∫–∏—Ö –º–∞—î –¥–æ—Å—Ç—É–ø
- –ö–æ–º–ø–∞–Ω—ñ—è "Main" –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∞

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –§–∞–π–ª—ñ–≤

```
app/
‚îú‚îÄ‚îÄ Events/              # –ü–æ–¥—ñ—ó —Å–∏—Å—Ç–µ–º–∏
‚îú‚îÄ‚îÄ Listeners/           # –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
‚îÇ   ‚îî‚îÄ‚îÄ AssignCompanyToUser.php  # –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –∫–æ–º–ø–∞–Ω—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É
‚îú‚îÄ‚îÄ Http/
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/Api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthController.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserController.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ CompanyController.php
‚îÇ   ‚îú‚îÄ‚îÄ Requests/        # –í–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤
‚îÇ   ‚îî‚îÄ‚îÄ Resources/       # –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îú‚îÄ‚îÄ User.php         # –ú–æ–¥–µ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
‚îÇ   ‚îú‚îÄ‚îÄ Company.php      # –ú–æ–¥–µ–ª—å –∫–æ–º–ø–∞–Ω—ñ—ó
‚îÇ   ‚îî‚îÄ‚îÄ Access.php       # –ú–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø—É
‚îú‚îÄ‚îÄ Observers/
‚îÇ   ‚îî‚îÄ‚îÄ UserObserver.php # –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á –∑–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
‚îú‚îÄ‚îÄ Policies/            # –ü–æ–ª—ñ—Ç–∏–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ Queries/             # Query builders
‚îú‚îÄ‚îÄ Services/            # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îî‚îÄ‚îÄ Providers/           # Service providers
```

---

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–í—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –º–∞—é—Ç—å —Ç–µ—Å—Ç–∏:
- Feature tests –¥–ª—è API endpoints
- Unit tests –¥–ª—è —Å–µ—Ä–≤—ñ—Å—ñ–≤ —Ç–∞ listeners
- Policy tests –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤:
```bash
php artisan test
```

---

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

1. **–ö–æ–º–ø–∞–Ω—ñ—è "Main"**: –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä—à–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º —ñ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–¥–∞–ª–µ–Ω–∞
2. **Access Model**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–æ–ª—ñ–º–æ—Ä—Ñ–Ω—ñ –∑–≤'—è–∑–∫–∏ –¥–ª—è –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è
3. **Slug Generation**: –ö–æ–º–ø–∞–Ω—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å slug –¥–ª—è URL (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∑ –Ω–∞–∑–≤–∏)
4. **Soft Deletes**: –í—Å—ñ –º–æ–¥–µ–ª—ñ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å soft deletes –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è
5. **Rate Limiting**: API –º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ –∑–∞–ø–∏—Ç—ñ–≤

---

## üîÑ –ú–∞–π–±—É—Ç–Ω—ñ –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è

–°–∏—Å—Ç–µ–º–∞ Access –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —ñ–Ω—à–∏—Ö —Ç–∏–ø—ñ–≤ —Ä–µ—Å—É—Ä—Å—ñ–≤:
- Projects
- Teams
- Departments
- –Ü–Ω—à—ñ –ø–æ–ª—ñ–º–æ—Ä—Ñ–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏

–ü—Ä–æ—Å—Ç–æ –¥–æ–¥–∞–π—Ç–µ –Ω–æ–≤–∏–π —Ç–∏–ø –¥–æ `accessible_type` –≤ –º–æ–¥–µ–ª—ñ Access.
